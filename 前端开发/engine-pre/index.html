<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>2.15 前端面试复盘（一） | BlogMind</title><meta name="author" content="Answer Ran"><meta name="copyright" content="Answer Ran"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="前端面试技术要点总结自我介绍您好，我是XX，26岁，本科学历，是一名拥有3年工作经验的前端开发工程师。我熟练掌握 Vue 全家桶，有 Vue2、Vue3 的实际项目开发经验。同时也具备 React 及其生态系统的开发经验，包括 Hooks、Redux&#x2F;Mobx 等状态管理方案。在工作经历中，我参与过企业中台系统、官网、数据可视化大屏等多个重要项目的开发。熟悉 Element UI、Ant">
<meta property="og:type" content="article">
<meta property="og:title" content="2.15 前端面试复盘（一）">
<meta property="og:url" content="https://blogmind.cloud/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/engine-pre/">
<meta property="og:site_name" content="BlogMind">
<meta property="og:description" content="前端面试技术要点总结自我介绍您好，我是XX，26岁，本科学历，是一名拥有3年工作经验的前端开发工程师。我熟练掌握 Vue 全家桶，有 Vue2、Vue3 的实际项目开发经验。同时也具备 React 及其生态系统的开发经验，包括 Hooks、Redux&#x2F;Mobx 等状态管理方案。在工作经历中，我参与过企业中台系统、官网、数据可视化大屏等多个重要项目的开发。熟悉 Element UI、Ant">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-02-15T04:00:00.000Z">
<meta property="article:modified_time" content="2025-02-15T08:26:12.985Z">
<meta property="article:author" content="Answer Ran">
<meta property="article:tag" content="前端开发">
<meta property="article:tag" content="技术面试">
<meta name="twitter:card" content="summary"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://blogmind.cloud/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/engine-pre/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '2.15 前端面试复盘（一）',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-02-15 16:26:12'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><script src="https://cdn.jsdelivr.net/npm/vanilla-tilt@1.8.1/dist/vanilla-tilt.min.js"></script><link rel="stylesheet" href="/css/bubble-effect.css"><link rel="stylesheet" href="/css/mobile.css"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="BlogMind" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">130</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">48</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">22</div></a></div><hr class="custom-hr"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="BlogMind"><span class="site-name">BlogMind</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">2.15 前端面试复盘（一）</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-02-15T04:00:00.000Z" title="发表于 2025-02-15 12:00:00">2025-02-15</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-02-15T08:26:12.985Z" title="更新于 2025-02-15 16:26:12">2025-02-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/">前端开发</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id data-flag-title="2.15 前端面试复盘（一）"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="前端面试技术要点总结"><a href="#前端面试技术要点总结" class="headerlink" title="前端面试技术要点总结"></a>前端面试技术要点总结</h1><h2 id="自我介绍"><a href="#自我介绍" class="headerlink" title="自我介绍"></a>自我介绍</h2><p>您好，我是XX，26岁，本科学历，是一名拥有3年工作经验的前端开发工程师。我熟练掌握 Vue 全家桶，有 Vue2、Vue3 的实际项目开发经验。同时也具备 React 及其生态系统的开发经验，包括 Hooks、Redux&#x2F;Mobx 等状态管理方案。在工作经历中，我参与过企业中台系统、官网、数据可视化大屏等多个重要项目的开发。熟悉 Element UI、Ant Design 等主流组件库，对前端工程化有较深理解，能够熟练使用 Webpack、Vite 等构建工具进行项目优化。在可视化领域，我有丰富的 ECharts 使用经验。此外，我也参与过小程序和 APP 的开发工作。我注重代码质量和开发效率，有较强的业务理解能力和团队协作精神。目前正在寻找前端开发相关的工作机会，期望薪资范围在14-16k。</p>
<h2 id="离职原因"><a href="#离职原因" class="headerlink" title="离职原因"></a>离职原因</h2><p>“我上一家公司是集团的子公司，虽然有转正编的机会，但主要使用的是公司内部封闭的技术框架，这限制了我在主流技术方面的成长。考虑到个人的职业发展，我希望能到一个技术氛围更好的平台，接触更多业界主流的技术栈和项目，同时也期望能获得更好的发展机会。”</p>
<h2 id="项目难点与解决方案"><a href="#项目难点与解决方案" class="headerlink" title="项目难点与解决方案"></a>项目难点与解决方案</h2><h3 id="1-实时数据展示与性能优化"><a href="#1-实时数据展示与性能优化" class="headerlink" title="1. 实时数据展示与性能优化"></a>1. 实时数据展示与性能优化</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- 使用 WebSocket 实现电力数据实时推送，保证数据实时性</span><br><span class="line">- 对接 MQTT 协议，处理大量设备的实时数据上报</span><br><span class="line">- 实现断线重连机制，保证数据连续性</span><br><span class="line">- 优化数据更新策略，避免频繁 DOM 更新导致的性能问题</span><br></pre></td></tr></table></figure>

<blockquote>
<p>关于 WebSocket 的详细实现，包括心跳检测、断线重连和黏包问题的解决方案，请参考 <a href="../engine-websocket">WebSocket 技术要点总结</a></p>
</blockquote>
<h3 id="2-复杂图表的性能优化"><a href="#2-复杂图表的性能优化" class="headerlink" title="2. 复杂图表的性能优化"></a>2. 复杂图表的性能优化</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- 使用 WebWorker 处理分时图、K线图的大量数据计算</span><br><span class="line">- 将复杂的数据运算迁移到 Worker 线程，避免主线程阻塞</span><br><span class="line">- 实现图表数据的增量更新，优化渲染性能</span><br><span class="line">- 处理历史数据与实时数据的无缝衔接</span><br></pre></td></tr></table></figure>

<h3 id="3-数据处理与展示"><a href="#3-数据处理与展示" class="headerlink" title="3. 数据处理与展示"></a>3. 数据处理与展示</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- 使用 HQChart 实现各类专业图表（分时图、K线图）</span><br><span class="line">- 处理大量历史数据的加载和缓存策略</span><br><span class="line">- 实现图表的缩放、拖拽等交互功能</span><br><span class="line">- 优化图表更新频率，平衡实时性和性能</span><br></pre></td></tr></table></figure>
<h2 id="说说你封装的组件"><a href="#说说你封装的组件" class="headerlink" title="说说你封装的组件"></a>说说你封装的组件</h2><h3 id="1-高性能虚拟表格组件"><a href="#1-高性能虚拟表格组件" class="headerlink" title="1.  - 高性能虚拟表格组件"></a>1.  - 高性能虚拟表格组件</h3><p>在一个数据密集型的企业中台项目中，我封装了一个具有高性能、高复用性的虚拟表格组件 <code>VirtualTable</code>。这个组件解决了大数据量表格渲染的性能问题，支持多种复杂场景。</p>
<h4 id="核心功能特性"><a href="#核心功能特性" class="headerlink" title="核心功能特性"></a>核心功能特性</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">- 虚拟滚动：只渲染可视区域的数据，支持10万+数据量的流畅渲染</span><br><span class="line">- 动态列配置：支持列的显示/隐藏、拖拽排序、列宽调整</span><br><span class="line">- 多级表头：支持复杂的多级表头配置</span><br><span class="line">- 自定义列：支持通过插槽自定义列的渲染内容</span><br><span class="line">- 固定列：支持左右列固定，处理阴影、同步滚动</span><br><span class="line">- 行/列合并：支持单元格合并，自动计算合并范围</span><br><span class="line">- 排序/筛选：支持本地和远程排序筛选，多列组合排序</span><br><span class="line">- 行选择：支持单选、多选、全选、反选</span><br><span class="line">- 展开行：支持行展开/收起，异步加载子数据</span><br><span class="line">- 树形数据：支持树形结构展示，懒加载子节点</span><br></pre></td></tr></table></figure>

<h4 id="关键技术实现"><a href="#关键技术实现" class="headerlink" title="关键技术实现"></a>关键技术实现</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;VirtualTable&#x27;</span>,</span><br><span class="line">  <span class="attr">props</span>: &#123;</span><br><span class="line">    <span class="comment">// 表格数据</span></span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="title class_">Array</span>,</span><br><span class="line">      <span class="attr">required</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 列配置</span></span><br><span class="line">    <span class="attr">columns</span>: &#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="title class_">Array</span>,</span><br><span class="line">      <span class="attr">required</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 可视区域高度</span></span><br><span class="line">    <span class="attr">height</span>: &#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="title class_">Number</span>,</span><br><span class="line">      <span class="attr">default</span>: <span class="number">400</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 行高</span></span><br><span class="line">    <span class="attr">rowHeight</span>: &#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="title class_">Number</span>,</span><br><span class="line">      <span class="attr">default</span>: <span class="number">40</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 固定列配置</span></span><br><span class="line">    <span class="attr">fixedColumns</span>: &#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="title class_">Object</span>,</span><br><span class="line">      <span class="attr">default</span>: <span class="function">() =&gt;</span> (&#123; <span class="attr">left</span>: [], <span class="attr">right</span>: [] &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 是否开启多选</span></span><br><span class="line">    <span class="attr">selectable</span>: &#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="title class_">Boolean</span>,</span><br><span class="line">      <span class="attr">default</span>: <span class="literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 是否显示展开行</span></span><br><span class="line">    <span class="attr">expandable</span>: &#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="title class_">Boolean</span>,</span><br><span class="line">      <span class="attr">default</span>: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="comment">// 可视区域起始索引</span></span><br><span class="line">      <span class="attr">startIndex</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="comment">// 可视区域结束索引</span></span><br><span class="line">      <span class="attr">endIndex</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="comment">// 缓冲区大小（上下各预留的行数）</span></span><br><span class="line">      <span class="attr">buffer</span>: <span class="number">5</span>,</span><br><span class="line">      <span class="comment">// 选中行的 key 集合</span></span><br><span class="line">      <span class="attr">selectedKeys</span>: <span class="keyword">new</span> <span class="title class_">Set</span>(),</span><br><span class="line">      <span class="comment">// 展开行的 key 集合</span></span><br><span class="line">      <span class="attr">expandedKeys</span>: <span class="keyword">new</span> <span class="title class_">Set</span>(),</span><br><span class="line">      <span class="comment">// 列宽调整状态</span></span><br><span class="line">      <span class="attr">resizing</span>: &#123;</span><br><span class="line">        <span class="attr">column</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">startX</span>: <span class="number">0</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// 列拖拽状态</span></span><br><span class="line">      <span class="attr">dragging</span>: &#123;</span><br><span class="line">        <span class="attr">column</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">targetIndex</span>: -<span class="number">1</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">computed</span>: &#123;</span><br><span class="line">    <span class="comment">// 计算可视区域应该渲染的数据</span></span><br><span class="line">    <span class="title function_">visibleData</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> start = <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="number">0</span>, <span class="variable language_">this</span>.<span class="property">startIndex</span> - <span class="variable language_">this</span>.<span class="property">buffer</span>)</span><br><span class="line">      <span class="keyword">const</span> end = <span class="title class_">Math</span>.<span class="title function_">min</span>(<span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">length</span>, <span class="variable language_">this</span>.<span class="property">endIndex</span> + <span class="variable language_">this</span>.<span class="property">buffer</span>)</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">data</span>.<span class="title function_">slice</span>(start, end).<span class="title function_">map</span>(<span class="function">(<span class="params">row, index</span>) =&gt;</span> (&#123;</span><br><span class="line">        ...row,</span><br><span class="line">        <span class="attr">_index</span>: start + index <span class="comment">// 保存真实索引</span></span><br><span class="line">      &#125;))</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 计算表格内容总高度</span></span><br><span class="line">    <span class="title function_">totalHeight</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">length</span> * <span class="variable language_">this</span>.<span class="property">rowHeight</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 计算固定列样式</span></span><br><span class="line">    <span class="title function_">fixedColumnStyles</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; left, right &#125; = <span class="variable language_">this</span>.<span class="property">fixedColumns</span></span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">left</span>: left.<span class="title function_">reduce</span>(<span class="function">(<span class="params">styles, col, index</span>) =&gt;</span> &#123;</span><br><span class="line">          styles[col.<span class="property">key</span>] = &#123; <span class="attr">left</span>: <span class="string">`<span class="subst">$&#123;index * <span class="variable language_">this</span>.columnWidth&#125;</span>px`</span> &#125;</span><br><span class="line">          <span class="keyword">return</span> styles</span><br><span class="line">        &#125;, &#123;&#125;),</span><br><span class="line">        <span class="attr">right</span>: right.<span class="title function_">reduce</span>(<span class="function">(<span class="params">styles, col, index</span>) =&gt;</span> &#123;</span><br><span class="line">          styles[col.<span class="property">key</span>] = &#123; <span class="attr">right</span>: <span class="string">`<span class="subst">$&#123;index * <span class="variable language_">this</span>.columnWidth&#125;</span>px`</span> &#125;</span><br><span class="line">          <span class="keyword">return</span> styles</span><br><span class="line">        &#125;, &#123;&#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="comment">// 处理滚动事件（使用 RAF 优化）</span></span><br><span class="line">    <span class="title function_">handleScroll</span>(<span class="params">e</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">scrollRAF</span>) <span class="title function_">cancelAnimationFrame</span>(<span class="variable language_">this</span>.<span class="property">scrollRAF</span>)</span><br><span class="line">      </span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">scrollRAF</span> = <span class="title function_">requestAnimationFrame</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123; scrollTop, scrollLeft &#125; = e.<span class="property">target</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 计算当前的起始索引</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">startIndex</span> = <span class="title class_">Math</span>.<span class="title function_">floor</span>(scrollTop / <span class="variable language_">this</span>.<span class="property">rowHeight</span>)</span><br><span class="line">        <span class="comment">// 计算当前的结束索引</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">endIndex</span> = <span class="variable language_">this</span>.<span class="property">startIndex</span> + <span class="title class_">Math</span>.<span class="title function_">ceil</span>(<span class="variable language_">this</span>.<span class="property">height</span> / <span class="variable language_">this</span>.<span class="property">rowHeight</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 同步固定列的滚动位置</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">syncFixedScroll</span>(scrollLeft)</span><br><span class="line">        <span class="comment">// 更新内容区域的位移</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">updatePosition</span>(scrollTop)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 更新内容区域的位移（使用 transform 优化性能）</span></span><br><span class="line">    <span class="title function_">updatePosition</span>(<span class="params">scrollTop</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> transform = <span class="string">`translate3d(0, <span class="subst">$&#123;scrollTop&#125;</span>px, 0)`</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">content</span>.<span class="property">style</span>.<span class="property">transform</span> = transform</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// 更新固定列位置</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">hasFixedColumns</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">leftFixed</span>.<span class="property">style</span>.<span class="property">transform</span> = transform</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">rightFixed</span>.<span class="property">style</span>.<span class="property">transform</span> = transform</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 处理列宽调整</span></span><br><span class="line">    <span class="title function_">handleColumnResize</span>(<span class="params">column, event</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">resizing</span> = &#123;</span><br><span class="line">        column,</span><br><span class="line">        <span class="attr">startX</span>: event.<span class="property">clientX</span>,</span><br><span class="line">        <span class="attr">startWidth</span>: column.<span class="property">width</span></span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mousemove&#x27;</span>, <span class="variable language_">this</span>.<span class="property">onColumnResizing</span>)</span><br><span class="line">      <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;mouseup&#x27;</span>, <span class="variable language_">this</span>.<span class="property">onColumnResizeEnd</span>)</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 列宽调整过程</span></span><br><span class="line">    <span class="title function_">onColumnResizing</span>(<span class="params">event</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">resizing</span>.<span class="property">column</span>) <span class="keyword">return</span></span><br><span class="line">      </span><br><span class="line">      <span class="keyword">const</span> &#123; column, startX, startWidth &#125; = <span class="variable language_">this</span>.<span class="property">resizing</span></span><br><span class="line">      <span class="keyword">const</span> diff = event.<span class="property">clientX</span> - startX</span><br><span class="line">      <span class="keyword">const</span> newWidth = <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="number">100</span>, startWidth + diff)</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// 更新列宽</span></span><br><span class="line">      column.<span class="property">width</span> = newWidth</span><br><span class="line">      <span class="comment">// 触发列宽变化事件</span></span><br><span class="line">      <span class="variable language_">this</span>.$emit(<span class="string">&#x27;column-resize&#x27;</span>, column)</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 处理行选择</span></span><br><span class="line">    <span class="title function_">handleRowSelect</span>(<span class="params">row, selected</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> key = row[<span class="variable language_">this</span>.<span class="property">rowKey</span>]</span><br><span class="line">      <span class="keyword">if</span> (selected) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">selectedKeys</span>.<span class="title function_">add</span>(key)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">selectedKeys</span>.<span class="title function_">delete</span>(key)</span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      <span class="variable language_">this</span>.$emit(<span class="string">&#x27;selection-change&#x27;</span>, <span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="variable language_">this</span>.<span class="property">selectedKeys</span>))</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 处理展开行</span></span><br><span class="line">    <span class="keyword">async</span> <span class="title function_">handleRowExpand</span>(<span class="params">row</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> key = row[<span class="variable language_">this</span>.<span class="property">rowKey</span>]</span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">expandedKeys</span>.<span class="title function_">has</span>(key)) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">expandedKeys</span>.<span class="title function_">delete</span>(key)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 支持异步加载子数据</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">loadChildrenData</span> &amp;&amp; !row.<span class="property">children</span>) &#123;</span><br><span class="line">          row.<span class="property">loading</span> = <span class="literal">true</span></span><br><span class="line">          <span class="keyword">try</span> &#123;</span><br><span class="line">            row.<span class="property">children</span> = <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="title function_">loadChildrenData</span>(row)</span><br><span class="line">          &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            row.<span class="property">loading</span> = <span class="literal">false</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">expandedKeys</span>.<span class="title function_">add</span>(key)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 处理排序</span></span><br><span class="line">    <span class="title function_">handleSort</span>(<span class="params">column</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!column.<span class="property">sortable</span>) <span class="keyword">return</span></span><br><span class="line">      </span><br><span class="line">      <span class="comment">// 支持多列排序</span></span><br><span class="line">      <span class="keyword">const</span> sortState = <span class="variable language_">this</span>.<span class="property">sortStates</span>[column.<span class="property">key</span>] || &#123; <span class="attr">order</span>: <span class="string">&#x27;none&#x27;</span> &#125;</span><br><span class="line">      <span class="keyword">const</span> nextOrder = <span class="variable language_">this</span>.<span class="title function_">getNextSortOrder</span>(sortState.<span class="property">order</span>)</span><br><span class="line">      </span><br><span class="line">      <span class="variable language_">this</span>.$set(<span class="variable language_">this</span>.<span class="property">sortStates</span>, column.<span class="property">key</span>, &#123; <span class="attr">order</span>: nextOrder &#125;)</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">remote</span>) &#123;</span><br><span class="line">        <span class="comment">// 远程排序</span></span><br><span class="line">        <span class="variable language_">this</span>.$emit(<span class="string">&#x27;sort-change&#x27;</span>, <span class="variable language_">this</span>.<span class="property">sortStates</span>)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 本地排序</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">localSort</span>()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 本地排序实现</span></span><br><span class="line">    <span class="title function_">localSort</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> sortColumns = <span class="title class_">Object</span>.<span class="title function_">entries</span>(<span class="variable language_">this</span>.<span class="property">sortStates</span>)</span><br><span class="line">        .<span class="title function_">filter</span>(<span class="function">(<span class="params">[, state]</span>) =&gt;</span> state.<span class="property">order</span> !== <span class="string">&#x27;none&#x27;</span>)</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">if</span> (sortColumns.<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">displayData</span> = [...<span class="variable language_">this</span>.<span class="property">data</span>]</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">displayData</span>.<span class="title function_">sort</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> [key, state] <span class="keyword">of</span> sortColumns) &#123;</span><br><span class="line">          <span class="keyword">const</span> column = <span class="variable language_">this</span>.<span class="property">columnMap</span>[key]</span><br><span class="line">          <span class="keyword">const</span> compareResult = <span class="variable language_">this</span>.<span class="title function_">compare</span>(a[key], b[key], column.<span class="property">sortMethod</span>)</span><br><span class="line">          <span class="keyword">if</span> (compareResult !== <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> state.<span class="property">order</span> === <span class="string">&#x27;asc&#x27;</span> ? compareResult : -compareResult</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 使用函数式组件优化行渲染</span></span><br><span class="line">  <span class="attr">components</span>: &#123;</span><br><span class="line">    <span class="title class_">TableRow</span>: &#123;</span><br><span class="line">      <span class="attr">functional</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">props</span>: [<span class="string">&#x27;row&#x27;</span>, <span class="string">&#x27;columns&#x27;</span>, <span class="string">&#x27;rowIndex&#x27;</span>],</span><br><span class="line">      <span class="title function_">render</span>(<span class="params">h, &#123; props, scopedSlots &#125;</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123; row, columns, rowIndex &#125; = props</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">h</span>(<span class="string">&#x27;tr&#x27;</span>, &#123; <span class="attr">key</span>: row[rowKey] &#125;,</span><br><span class="line">          columns.<span class="title function_">map</span>(<span class="function"><span class="params">column</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// 处理自定义列模板</span></span><br><span class="line">            <span class="keyword">if</span> (scopedSlots[column.<span class="property">key</span>]) &#123;</span><br><span class="line">              <span class="keyword">return</span> <span class="title function_">h</span>(<span class="string">&#x27;td&#x27;</span>, &#123;&#125;, [</span><br><span class="line">                scopedSlots[column.<span class="property">key</span>](&#123; row, column, <span class="attr">index</span>: rowIndex &#125;)</span><br><span class="line">              ])</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 默认渲染</span></span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">h</span>(<span class="string">&#x27;td&#x27;</span>, &#123;&#125;, [row[column.<span class="property">key</span>]])</span><br><span class="line">          &#125;)</span><br><span class="line">        )</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="性能优化措施"><a href="#性能优化措施" class="headerlink" title="性能优化措施"></a>性能优化措施</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">1. 虚拟滚动核心算法优化：</span><br><span class="line">   - 使用 transform 代替 top 定位，避免重排</span><br><span class="line">   - 实现缓冲区机制，提升滚动体验</span><br><span class="line">   - 使用 RAF 优化滚动事件处理</span><br><span class="line">   - 固定列同步滚动优化</span><br><span class="line">   - 滚动过程中延迟非必要更新</span><br><span class="line"></span><br><span class="line">2. 渲染性能优化：</span><br><span class="line">   - 使用 Vue 的函数式组件渲染表格行</span><br><span class="line">   - 关键数据使用 Object.freeze 冻结</span><br><span class="line">   - 合理使用 v-show 和 v-if</span><br><span class="line">   - 列宽调整使用 transform 实现</span><br><span class="line">   - 优化重绘区域，避免整表重绘</span><br><span class="line">   </span><br><span class="line">3. 内存优化：</span><br><span class="line">   - 实现数据分片加载</span><br><span class="line">   - 及时清理不可见区域的 DOM</span><br><span class="line">   - 使用事件委托优化事件处理</span><br><span class="line">   - 优化大数据量排序算法</span><br><span class="line">   - 按需加载展开行数据</span><br><span class="line"></span><br><span class="line">4. 用户体验优化：</span><br><span class="line">   - 添加列宽调整时的视觉反馈</span><br><span class="line">   - 优化固定列的阴影效果</span><br><span class="line">   - 实现平滑的滚动效果</span><br><span class="line">   - 添加加载状态和空数据提示</span><br><span class="line">   - 支持键盘快捷操作</span><br></pre></td></tr></table></figure>

<h4 id="使用示例"><a href="#使用示例" class="headerlink" title="使用示例"></a>使用示例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;virtual-table</span><br><span class="line">    :data=&quot;tableData&quot;</span><br><span class="line">    :columns=&quot;columns&quot;</span><br><span class="line">    :height=&quot;500&quot;</span><br><span class="line">    :row-height=&quot;40&quot;</span><br><span class="line">    :fixed-columns=&quot;&#123; left: [&#x27;selection&#x27;], right: [&#x27;operation&#x27;] &#125;&quot;</span><br><span class="line">    :selectable=&quot;true&quot;</span><br><span class="line">    :expandable=&quot;true&quot;</span><br><span class="line">    @sort-change=&quot;handleSortChange&quot;</span><br><span class="line">    @selection-change=&quot;handleSelectionChange&quot;</span><br><span class="line">    @row-expand=&quot;handleRowExpand&quot;</span><br><span class="line">  &gt;</span><br><span class="line">    &lt;!-- 自定义展开行内容 --&gt;</span><br><span class="line">    &lt;template #expand=&quot;&#123; row &#125;&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;expand-content&quot;&gt;</span><br><span class="line">        &#123;&#123; row.description &#125;&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;!-- 自定义操作列 --&gt;</span><br><span class="line">    &lt;template #operation=&quot;&#123; row &#125;&quot;&gt;</span><br><span class="line">      &lt;el-button @click=&quot;handleEdit(row)&quot;&gt;编辑&lt;/el-button&gt;</span><br><span class="line">      &lt;el-button @click=&quot;handleDelete(row)&quot;&gt;删除&lt;/el-button&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">  &lt;/virtual-table&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      tableData: [],</span><br><span class="line">      columns: [</span><br><span class="line">        &#123; type: &#x27;selection&#x27;, width: 60, fixed: &#x27;left&#x27; &#125;,</span><br><span class="line">        &#123; key: &#x27;name&#x27;, title: &#x27;名称&#x27;, sortable: true &#125;,</span><br><span class="line">        &#123; key: &#x27;age&#x27;, title: &#x27;年龄&#x27;, sortable: true &#125;,</span><br><span class="line">        &#123; key: &#x27;address&#x27;, title: &#x27;地址&#x27;, width: 300 &#125;,</span><br><span class="line">        &#123; key: &#x27;operation&#x27;, title: &#x27;操作&#x27;, width: 150, fixed: &#x27;right&#x27; &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    async loadData() &#123;</span><br><span class="line">      // 模拟加载 10 万条数据</span><br><span class="line">      this.tableData = Array.from(&#123; length: 100000 &#125;, (_, index) =&gt; (&#123;</span><br><span class="line">        id: index,</span><br><span class="line">        name: `用户 $&#123;index&#125;`,</span><br><span class="line">        age: Math.floor(Math.random() * 100),</span><br><span class="line">        address: `地址 $&#123;index&#125;`</span><br><span class="line">      &#125;))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>这个组件在实际项目中显著提升了大数据量表格的渲染性能，将10万条数据的渲染时间从原来的3-4秒优化到了200ms以内，同时保持内存占用在合理范围内。该组件已在多个项目中复用，大大提高了开发效率。</p>
<p>主要应用场景：</p>
<ol>
<li>大数据量表格展示（10万+数据）</li>
<li>复杂的数据操作界面（多选、排序、筛选）</li>
<li>实时数据更新的监控页面</li>
<li>树形结构数据展示</li>
<li>需要高性能表格的企业级应用</li>
</ol>
<h2 id="说说你知道的HOC组件"><a href="#说说你知道的HOC组件" class="headerlink" title="说说你知道的HOC组件"></a>说说你知道的HOC组件</h2><h3 id="Vue2-中的-HOC-实现"><a href="#Vue2-中的-HOC-实现" class="headerlink" title="Vue2 中的 HOC 实现"></a>Vue2 中的 HOC 实现</h3><h4 id="1-权限控制-HOC"><a href="#1-权限控制-HOC" class="headerlink" title="1. 权限控制 HOC"></a>1. 权限控制 HOC</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// withPermission.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">withPermission</span>(<span class="params">WrappedComponent, permission</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;WithPermission&#x27;</span>,</span><br><span class="line">    <span class="attr">functional</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">props</span>: <span class="title class_">WrappedComponent</span>.<span class="property">props</span>,</span><br><span class="line">    <span class="title function_">render</span>(<span class="params">h, context</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; props, data &#125; = context</span><br><span class="line">      <span class="keyword">const</span> hasPermission = <span class="title function_">checkPermission</span>(permission)</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">if</span> (!hasPermission) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">h</span>(<span class="string">&#x27;div&#x27;</span>, <span class="string">&#x27;无权限访问&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">h</span>(<span class="title class_">WrappedComponent</span>, &#123;</span><br><span class="line">        ...data,</span><br><span class="line">        props</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用示例</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">PageWithPermission</span> = <span class="title function_">withPermission</span>(<span class="title class_">UserList</span>, <span class="string">&#x27;user:view&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="2-数据加载-HOC"><a href="#2-数据加载-HOC" class="headerlink" title="2. 数据加载 HOC"></a>2. 数据加载 HOC</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// withLoading.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">withLoading</span>(<span class="params">WrappedComponent</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;WithLoading&#x27;</span>,</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">loading</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">error</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">data</span>: <span class="literal">null</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">props</span>: &#123;</span><br><span class="line">      <span class="attr">fetchData</span>: &#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="title class_">Function</span>,</span><br><span class="line">        <span class="attr">required</span>: <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">async</span> <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">loading</span> = <span class="literal">true</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">data</span> = <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="title function_">fetchData</span>()</span><br><span class="line">      &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">error</span> = err</span><br><span class="line">      &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">loading</span> = <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">render</span>(<span class="params">h</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">loading</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">h</span>(<span class="string">&#x27;div&#x27;</span>, <span class="string">&#x27;Loading...&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">error</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">h</span>(<span class="string">&#x27;div&#x27;</span>, <span class="string">`Error: <span class="subst">$&#123;<span class="variable language_">this</span>.error.message&#125;</span>`</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">h</span>(<span class="title class_">WrappedComponent</span>, &#123;</span><br><span class="line">        <span class="attr">props</span>: &#123;</span><br><span class="line">          ...<span class="variable language_">this</span>.<span class="property">$props</span>,</span><br><span class="line">          <span class="attr">data</span>: <span class="variable language_">this</span>.<span class="property">data</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用示例</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">UserListWithLoading</span> = <span class="title function_">withLoading</span>(<span class="title class_">UserList</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Vue3-中的-HOC-实现"><a href="#Vue3-中的-HOC-实现" class="headerlink" title="Vue3 中的 HOC 实现"></a>Vue3 中的 HOC 实现</h3><h4 id="1-组合式-API-的权限控制-HOC"><a href="#1-组合式-API-的权限控制-HOC" class="headerlink" title="1. 组合式 API 的权限控制 HOC"></a>1. 组合式 API 的权限控制 HOC</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// withPermission.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; h, defineComponent &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> withPermission&lt;T <span class="keyword">extends</span> <span class="built_in">object</span>&gt;(</span><br><span class="line">  <span class="title class_">WrappedComponent</span>: T,</span><br><span class="line">  <span class="attr">permission</span>: <span class="built_in">string</span></span><br><span class="line">) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">defineComponent</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;WithPermission&#x27;</span>,</span><br><span class="line">    <span class="title function_">setup</span>(<span class="params">props</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> hasPermission = <span class="title function_">checkPermission</span>(permission)</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!hasPermission) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="title function_">h</span>(<span class="string">&#x27;div&#x27;</span>, <span class="string">&#x27;无权限访问&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">h</span>(<span class="title class_">WrappedComponent</span> <span class="keyword">as</span> <span class="built_in">any</span>, props)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用示例</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">PageWithPermission</span> = <span class="title function_">withPermission</span>(<span class="title class_">UserList</span>, <span class="string">&#x27;user:view&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="2-响应式数据加载-HOC"><a href="#2-响应式数据加载-HOC" class="headerlink" title="2. 响应式数据加载 HOC"></a>2. 响应式数据加载 HOC</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// withAsync.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; h, defineComponent, ref, onMounted &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> withAsync&lt;T <span class="keyword">extends</span> <span class="built_in">object</span>, D = <span class="built_in">any</span>&gt;(</span><br><span class="line">  <span class="title class_">WrappedComponent</span>: T,</span><br><span class="line">  <span class="attr">fetchData</span>: <span class="function">() =&gt;</span> <span class="title class_">Promise</span>&lt;D&gt;</span><br><span class="line">) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">defineComponent</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;WithAsync&#x27;</span>,</span><br><span class="line">    <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> loading = <span class="title function_">ref</span>(<span class="literal">false</span>)</span><br><span class="line">      <span class="keyword">const</span> error = ref&lt;<span class="title class_">Error</span> | <span class="literal">null</span>&gt;(<span class="literal">null</span>)</span><br><span class="line">      <span class="keyword">const</span> data = ref&lt;D | <span class="literal">null</span>&gt;(<span class="literal">null</span>)</span><br><span class="line">      </span><br><span class="line">      <span class="title function_">onMounted</span>(<span class="title function_">async</span> () =&gt; &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          loading.<span class="property">value</span> = <span class="literal">true</span></span><br><span class="line">          data.<span class="property">value</span> = <span class="keyword">await</span> <span class="title function_">fetchData</span>()</span><br><span class="line">        &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">          error.<span class="property">value</span> = err <span class="keyword">as</span> <span class="title class_">Error</span></span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">          loading.<span class="property">value</span> = <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (loading.<span class="property">value</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="title function_">h</span>(<span class="string">&#x27;div&#x27;</span>, <span class="string">&#x27;Loading...&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (error.<span class="property">value</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="title function_">h</span>(<span class="string">&#x27;div&#x27;</span>, <span class="string">`Error: <span class="subst">$&#123;error.value.message&#125;</span>`</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">h</span>(<span class="title class_">WrappedComponent</span> <span class="keyword">as</span> <span class="built_in">any</span>, &#123; <span class="attr">data</span>: data.<span class="property">value</span> &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用示例</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">UserListWithAsync</span> = <span class="title function_">withAsync</span>(<span class="title class_">UserList</span>, fetchUserList)</span><br></pre></td></tr></table></figure>

<h4 id="3-性能优化-HOC"><a href="#3-性能优化-HOC" class="headerlink" title="3. 性能优化 HOC"></a>3. 性能优化 HOC</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// withMemo.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; h, defineComponent, computed &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> withMemo&lt;T <span class="keyword">extends</span> <span class="built_in">object</span>&gt;(</span><br><span class="line">  <span class="title class_">WrappedComponent</span>: T,</span><br><span class="line">  propsAreEqual = <span class="function">(<span class="params"><span class="attr">prevProps</span>: <span class="built_in">any</span>, <span class="attr">nextProps</span>: <span class="built_in">any</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Object</span>.<span class="title function_">keys</span>(prevProps).<span class="title function_">every</span>(<span class="function"><span class="params">key</span> =&gt;</span> prevProps[key] === nextProps[key])</span><br><span class="line">  &#125;</span><br><span class="line">) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">defineComponent</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;WithMemo&#x27;</span>,</span><br><span class="line">    <span class="attr">props</span>: [<span class="string">&#x27;memoProps&#x27;</span>],</span><br><span class="line">    <span class="title function_">setup</span>(<span class="params">props</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> computedProps = <span class="title function_">computed</span>(<span class="function">() =&gt;</span> props.<span class="property">memoProps</span>)</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">return</span> <span class="function">() =&gt;</span> <span class="title function_">h</span>(<span class="title class_">WrappedComponent</span> <span class="keyword">as</span> <span class="built_in">any</span>, computedProps.<span class="property">value</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">beforeUpdate</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="title function_">propsAreEqual</span>(<span class="variable language_">this</span>.<span class="property">$props</span>.<span class="property">memoProps</span>, <span class="variable language_">this</span>.<span class="property">$options</span>.<span class="property">propsData</span>?.<span class="property">memoProps</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用示例</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">MemoizedComponent</span> = <span class="title function_">withMemo</span>(<span class="title class_">ExpensiveComponent</span>)</span><br></pre></td></tr></table></figure>

<h3 id="HOC-的优缺点"><a href="#HOC-的优缺点" class="headerlink" title="HOC 的优缺点"></a>HOC 的优缺点</h3><h4 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. 代码复用：将通用逻辑抽象到 HOC 中</span><br><span class="line">2. 关注点分离：将横切关注点从组件中抽离</span><br><span class="line">3. 无侵入性：不修改原组件的情况下扩展功能</span><br><span class="line">4. 灵活性：可以组合多个 HOC</span><br></pre></td></tr></table></figure>

<h4 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. 组件层级嵌套：多个 HOC 组合会产生多层嵌套</span><br><span class="line">2. props 命名冲突：多个 HOC 可能使用相同的 prop 名</span><br><span class="line">3. 静态方法丢失：需要手动处理静态方法的拷贝</span><br><span class="line">4. 调试困难：组件层级增加，调试变得复杂</span><br></pre></td></tr></table></figure>

<h3 id="最佳实践"><a href="#最佳实践" class="headerlink" title="最佳实践"></a>最佳实践</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. 使用组合式 API 替代简单的 HOC</span><br><span class="line">2. 合理使用 HOC 和组合式 API</span><br><span class="line">3. 使用 displayName 提高调试体验</span><br><span class="line">4. 避免在 render 方法中使用 HOC</span><br><span class="line">5. 向下传递不相关的 props</span><br><span class="line">6. 使用 compose 函数组合多个 HOC</span><br></pre></td></tr></table></figure>

<p>这些 HOC 组件在实际项目中主要用于：</p>
<ol>
<li>权限控制</li>
<li>数据加载和错误处理</li>
<li>性能优化</li>
<li>日志记录和监控</li>
<li>组件状态管理</li>
<li>主题和样式注入</li>
</ol>
<h2 id="小程序的发布流程"><a href="#小程序的发布流程" class="headerlink" title="小程序的发布流程"></a>小程序的发布流程</h2><h3 id="1-开发环境配置"><a href="#1-开发环境配置" class="headerlink" title="1. 开发环境配置"></a>1. 开发环境配置</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 配置项目的基本信息</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;name&quot;</span>: <span class="string">&quot;miniprogram&quot;</span>,</span><br><span class="line">  <span class="string">&quot;version&quot;</span>: <span class="string">&quot;1.0.0&quot;</span>,</span><br><span class="line">  <span class="string">&quot;description&quot;</span>: <span class="string">&quot;小程序项目&quot;</span>,</span><br><span class="line">  <span class="string">&quot;appid&quot;</span>: <span class="string">&quot;wx123456789&quot;</span>,</span><br><span class="line">  <span class="string">&quot;projectname&quot;</span>: <span class="string">&quot;miniprogram-demo&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-开发调试"><a href="#2-开发调试" class="headerlink" title="2. 开发调试"></a>2. 开发调试</h3><ul>
<li>使用微信开发者工具进行本地开发和调试</li>
<li>真机预览功能测试</li>
<li>自动化测试和单元测试</li>
</ul>
<h3 id="3-上传发布流程"><a href="#3-上传发布流程" class="headerlink" title="3. 上传发布流程"></a>3. 上传发布流程</h3><ol>
<li><p>代码上传</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- 在开发者工具中点击&quot;上传&quot;</span><br><span class="line">- 填写版本号和备注信息</span><br><span class="line">- 选择开发分支</span><br></pre></td></tr></table></figure>
</li>
<li><p>提交审核</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- 登录小程序管理后台</span><br><span class="line">- 选择版本提交审核</span><br><span class="line">- 填写审核资料（功能介绍、测试账号等）</span><br><span class="line">- 等待审核结果（一般1-7天）</span><br></pre></td></tr></table></figure>
</li>
<li><p>发布上线</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- 审核通过后可以发布</span><br><span class="line">- 选择发布时间（立即/定时）</span><br><span class="line">- 灰度发布策略设置</span><br><span class="line">- 监控上线状态</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="4-版本管理"><a href="#4-版本管理" class="headerlink" title="4. 版本管理"></a>4. 版本管理</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- 线上版本：对外发布的正式版本</span><br><span class="line">- 体验版本：内部测试使用</span><br><span class="line">- 开发版本：本地开发环境</span><br></pre></td></tr></table></figure>

<h2 id="小程序的主包和分包组件调用"><a href="#小程序的主包和分包组件调用" class="headerlink" title="小程序的主包和分包组件调用"></a>小程序的主包和分包组件调用</h2><h3 id="1-基本概念"><a href="#1-基本概念" class="headerlink" title="1. 基本概念"></a>1. 基本概念</h3><h4 id="主包"><a href="#主包" class="headerlink" title="主包"></a>主包</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app.json</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;pages&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;pages/index/index&quot;</span>,</span><br><span class="line">    <span class="string">&quot;pages/logs/logs&quot;</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="comment">// 主包配置</span></span><br><span class="line">  <span class="string">&quot;window&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;backgroundTextStyle&quot;</span>: <span class="string">&quot;light&quot;</span>,</span><br><span class="line">    <span class="string">&quot;navigationBarBackgroundColor&quot;</span>: <span class="string">&quot;#fff&quot;</span>,</span><br><span class="line">    <span class="string">&quot;navigationBarTitleText&quot;</span>: <span class="string">&quot;WeChat&quot;</span>,</span><br><span class="line">    <span class="string">&quot;navigationBarTextStyle&quot;</span>: <span class="string">&quot;black&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="分包"><a href="#分包" class="headerlink" title="分包"></a>分包</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;pages&quot;</span>: [<span class="string">&quot;pages/index/index&quot;</span>],</span><br><span class="line">  <span class="string">&quot;subpackages&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;root&quot;</span>: <span class="string">&quot;packageA&quot;</span>,</span><br><span class="line">      <span class="string">&quot;pages&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;pages/cat/index&quot;</span>,</span><br><span class="line">        <span class="string">&quot;pages/dog/index&quot;</span></span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;root&quot;</span>: <span class="string">&quot;packageB&quot;</span>,</span><br><span class="line">      <span class="string">&quot;pages&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;pages/apple/index&quot;</span>,</span><br><span class="line">        <span class="string">&quot;pages/banana/index&quot;</span></span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-组件调用方式"><a href="#2-组件调用方式" class="headerlink" title="2. 组件调用方式"></a>2. 组件调用方式</h3><h4 id="主包调用分包组件"><a href="#主包调用分包组件" class="headerlink" title="主包调用分包组件"></a>主包调用分包组件</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 分包组件定义 (packageA/components/custom/index.js)</span></span><br><span class="line"><span class="title class_">Component</span>(&#123;</span><br><span class="line">  <span class="attr">properties</span>: &#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="title class_">String</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">onTap</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">triggerEvent</span>(<span class="string">&#x27;click&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 主包页面使用 (pages/index/index.json)</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;usingComponents&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;custom&quot;</span>: <span class="string">&quot;/packageA/components/custom/index&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 主包页面模板 (pages/index/index.wxml)</span></span><br><span class="line">&lt;custom title=<span class="string">&quot;测试&quot;</span> <span class="attr">bind</span>:click=<span class="string">&quot;handleClick&quot;</span> /&gt;</span><br></pre></td></tr></table></figure>

<h4 id="分包间组件调用"><a href="#分包间组件调用" class="headerlink" title="分包间组件调用"></a>分包间组件调用</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// packageA 组件定义</span></span><br><span class="line"><span class="title class_">Component</span>(&#123;</span><br><span class="line">  <span class="attr">properties</span>: &#123;</span><br><span class="line">    <span class="attr">data</span>: <span class="title class_">Object</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// packageB 页面使用</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;usingComponents&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;component-a&quot;</span>: <span class="string">&quot;/packageA/components/component/index&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-性能优化建议"><a href="#3-性能优化建议" class="headerlink" title="3. 性能优化建议"></a>3. 性能优化建议</h3><ol>
<li><p>合理分包</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- 按功能模块划分包体</span><br><span class="line">- 控制单个分包大小（建议&lt;2MB）</span><br><span class="line">- 避免分包间过度依赖</span><br></pre></td></tr></table></figure>
</li>
<li><p>组件复用优化</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- 公共组件放主包</span><br><span class="line">- 分包特有组件放分包</span><br><span class="line">- 使用组件模板提高复用性</span><br></pre></td></tr></table></figure>
</li>
<li><p>加载策略</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 预加载分包</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;preloadRule&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;pages/index/index&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;network&quot;</span>: <span class="string">&quot;all&quot;</span>,</span><br><span class="line">      <span class="string">&quot;packages&quot;</span>: [<span class="string">&quot;packageA&quot;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 分包异步化</span></span><br><span class="line"><span class="title class_">Component</span>(&#123;</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="keyword">async</span> <span class="title function_">loadSubpackage</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">await</span> wx.<span class="title function_">loadSubpackage</span>(&#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;packageA&#x27;</span>,</span><br><span class="line">        <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">res</span>) &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;分包加载成功&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>资源管理</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- 图片等静态资源按需分包</span><br><span class="line">- 使用 CDN 加速资源加载</span><br><span class="line">- 合理使用本地缓存</span><br></pre></td></tr></table></figure></li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://blogmind.cloud">Answer Ran</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://blogmind.cloud/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/engine-pre/">https://blogmind.cloud/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/engine-pre/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="external nofollow noopener noreferrer">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://blogmind.cloud" target="_blank">BlogMind</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/">前端开发</a><a class="post-meta__tags" href="/tags/%E6%8A%80%E6%9C%AF%E9%9D%A2%E8%AF%95/">技术面试</a></div><div class="post_share"><div class="social-share" data-image="/" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/%E8%81%8C%E5%9C%BA/life-1/" title="2.15 面对职场矛盾，要不要宣泄怒气"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">2.15 面对职场矛盾，要不要宣泄怒气</div></div></a></div><div class="next-post pull-right"><a href="/%E5%89%8D%E7%AB%AF/%E6%9E%B6%E6%9E%84/micro-micro-deploy/" title="微前端子应用如何部署？"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">微前端子应用如何部署？</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/engine-pre2/" title="2.15 前端面试复盘（三）"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-15</div><div class="title">2.15 前端面试复盘（三）</div></div></a></div><div><a href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/engine-pre4/" title="2.19 前端面试复盘（四）"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-19</div><div class="title">2.19 前端面试复盘（四）</div></div></a></div><div><a href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/engine-pre5/" title="2.19 前端面试复盘（四）"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-21</div><div class="title">2.19 前端面试复盘（四）</div></div></a></div><div><a href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/engine-websocket/" title="2.15 前端面试复盘（二）"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-15</div><div class="title">2.15 前端面试复盘（二）</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"></div><div class="author-info__name">Answer Ran</div><div class="author-info__description">欢迎来到我的博客，这里是一个分享技术与生活的空间，希望能带给大家有价值的内容😉</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">130</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">48</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">22</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/answer-ran-ts" target="_blank" title="fab fa-github" rel="external nofollow noopener noreferrer"><i class="Github"></i></a><a class="social-icon" href="https://www.coplit.com/answer-ran" target="_blank" title="fas fa-code" rel="external nofollow noopener noreferrer"><i class="Coplit"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content"><div class="announcement">
  努力更新中......面试ing......
  <br><br>
  <div style="text-align: center;">
    <img src="/img/wechat-group.jpg" style="width: 200px; border-radius: 4px;" alt="微信交流群">
    <br>
    <span style="color: #666; font-size: 0.9em;">扫码加入交流群，一起学习进步</span>
  </div>
</div>
</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E6%8A%80%E6%9C%AF%E8%A6%81%E7%82%B9%E6%80%BB%E7%BB%93"><span class="toc-number">1.</span> <span class="toc-text">前端面试技术要点总结</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E6%88%91%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.</span> <span class="toc-text">自我介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A6%BB%E8%81%8C%E5%8E%9F%E5%9B%A0"><span class="toc-number">1.2.</span> <span class="toc-text">离职原因</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E9%9A%BE%E7%82%B9%E4%B8%8E%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-number">1.3.</span> <span class="toc-text">项目难点与解决方案</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AE%9E%E6%97%B6%E6%95%B0%E6%8D%AE%E5%B1%95%E7%A4%BA%E4%B8%8E%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="toc-number">1.3.1.</span> <span class="toc-text">1. 实时数据展示与性能优化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%A4%8D%E6%9D%82%E5%9B%BE%E8%A1%A8%E7%9A%84%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="toc-number">1.3.2.</span> <span class="toc-text">2. 复杂图表的性能优化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E4%B8%8E%E5%B1%95%E7%A4%BA"><span class="toc-number">1.3.3.</span> <span class="toc-text">3. 数据处理与展示</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%B4%E8%AF%B4%E4%BD%A0%E5%B0%81%E8%A3%85%E7%9A%84%E7%BB%84%E4%BB%B6"><span class="toc-number">1.4.</span> <span class="toc-text">说说你封装的组件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E9%AB%98%E6%80%A7%E8%83%BD%E8%99%9A%E6%8B%9F%E8%A1%A8%E6%A0%BC%E7%BB%84%E4%BB%B6"><span class="toc-number">1.4.1.</span> <span class="toc-text">1.  - 高性能虚拟表格组件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD%E7%89%B9%E6%80%A7"><span class="toc-number">1.4.1.1.</span> <span class="toc-text">核心功能特性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E6%8A%80%E6%9C%AF%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.4.1.2.</span> <span class="toc-text">关键技术实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%8E%AA%E6%96%BD"><span class="toc-number">1.4.1.3.</span> <span class="toc-text">性能优化措施</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B"><span class="toc-number">1.4.1.4.</span> <span class="toc-text">使用示例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%B4%E8%AF%B4%E4%BD%A0%E7%9F%A5%E9%81%93%E7%9A%84HOC%E7%BB%84%E4%BB%B6"><span class="toc-number">1.5.</span> <span class="toc-text">说说你知道的HOC组件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue2-%E4%B8%AD%E7%9A%84-HOC-%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.5.1.</span> <span class="toc-text">Vue2 中的 HOC 实现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6-HOC"><span class="toc-number">1.5.1.1.</span> <span class="toc-text">1. 权限控制 HOC</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%95%B0%E6%8D%AE%E5%8A%A0%E8%BD%BD-HOC"><span class="toc-number">1.5.1.2.</span> <span class="toc-text">2. 数据加载 HOC</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue3-%E4%B8%AD%E7%9A%84-HOC-%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.5.2.</span> <span class="toc-text">Vue3 中的 HOC 实现</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E7%BB%84%E5%90%88%E5%BC%8F-API-%E7%9A%84%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6-HOC"><span class="toc-number">1.5.2.1.</span> <span class="toc-text">1. 组合式 API 的权限控制 HOC</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%93%8D%E5%BA%94%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%8A%A0%E8%BD%BD-HOC"><span class="toc-number">1.5.2.2.</span> <span class="toc-text">2. 响应式数据加载 HOC</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96-HOC"><span class="toc-number">1.5.2.3.</span> <span class="toc-text">3. 性能优化 HOC</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HOC-%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="toc-number">1.5.3.</span> <span class="toc-text">HOC 的优缺点</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E7%82%B9"><span class="toc-number">1.5.3.1.</span> <span class="toc-text">优点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%BA%E7%82%B9"><span class="toc-number">1.5.3.2.</span> <span class="toc-text">缺点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="toc-number">1.5.4.</span> <span class="toc-text">最佳实践</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%8F%91%E5%B8%83%E6%B5%81%E7%A8%8B"><span class="toc-number">1.6.</span> <span class="toc-text">小程序的发布流程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"><span class="toc-number">1.6.1.</span> <span class="toc-text">1. 开发环境配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%BC%80%E5%8F%91%E8%B0%83%E8%AF%95"><span class="toc-number">1.6.2.</span> <span class="toc-text">2. 开发调试</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E4%B8%8A%E4%BC%A0%E5%8F%91%E5%B8%83%E6%B5%81%E7%A8%8B"><span class="toc-number">1.6.3.</span> <span class="toc-text">3. 上传发布流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86"><span class="toc-number">1.6.4.</span> <span class="toc-text">4. 版本管理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E4%B8%BB%E5%8C%85%E5%92%8C%E5%88%86%E5%8C%85%E7%BB%84%E4%BB%B6%E8%B0%83%E7%94%A8"><span class="toc-number">1.7.</span> <span class="toc-text">小程序的主包和分包组件调用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">1.7.1.</span> <span class="toc-text">1. 基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E5%8C%85"><span class="toc-number">1.7.1.1.</span> <span class="toc-text">主包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E5%8C%85"><span class="toc-number">1.7.1.2.</span> <span class="toc-text">分包</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%BB%84%E4%BB%B6%E8%B0%83%E7%94%A8%E6%96%B9%E5%BC%8F"><span class="toc-number">1.7.2.</span> <span class="toc-text">2. 组件调用方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E5%8C%85%E8%B0%83%E7%94%A8%E5%88%86%E5%8C%85%E7%BB%84%E4%BB%B6"><span class="toc-number">1.7.2.1.</span> <span class="toc-text">主包调用分包组件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E5%8C%85%E9%97%B4%E7%BB%84%E4%BB%B6%E8%B0%83%E7%94%A8"><span class="toc-number">1.7.2.2.</span> <span class="toc-text">分包间组件调用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%BB%BA%E8%AE%AE"><span class="toc-number">1.7.3.</span> <span class="toc-text">3. 性能优化建议</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/engine-pre5/" title="2.19 前端面试复盘（四）">2.19 前端面试复盘（四）</a><time datetime="2025-02-21T12:48:00.000Z" title="发表于 2025-02-21 20:48:00">2025-02-21</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/engine-pre4/" title="2.19 前端面试复盘（四）">2.19 前端面试复盘（四）</a><time datetime="2025-02-19T05:00:00.000Z" title="发表于 2025-02-19 13:00:00">2025-02-19</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/%E5%89%8D%E7%AB%AF/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/performance-virtual-scroll/" title="如何实现高性能的虚拟滚动？">如何实现高性能的虚拟滚动？</a><time datetime="2025-02-18T11:00:00.000Z" title="发表于 2025-02-18 19:00:00">2025-02-18</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/engine-pre2/" title="2.15 前端面试复盘（三）">2.15 前端面试复盘（三）</a><time datetime="2025-02-15T04:00:00.000Z" title="发表于 2025-02-15 12:00:00">2025-02-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/engine-websocket/" title="2.15 前端面试复盘（二）">2.15 前端面试复盘（二）</a><time datetime="2025-02-15T04:00:00.000Z" title="发表于 2025-02-15 12:00:00">2025-02-15</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="footer_custom_text">©2025 Answer Ran</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script src="/js/tilt-effect.js"></script><script src="/js/bubble-effect.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div></body></html>